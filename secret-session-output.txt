balaji@192.168.44.111's password:
    ┌──────────────────────────────────────────────────────────────────────┐
    │                 • MobaXterm Personal Edition v23.2 •                 │
    │               (SSH client, X server and network tools)               │
    │                                                                      │
    │ ⮞ SSH session to balaji@192.168.44.111                               │
    │   • Direct SSH      :  ✓                                             │
    │   • SSH compression :  ✓                                             │
    │   • SSH-browser     :  ✓                                             │
    │   • X11-forwarding  :  ✓  (remote display is forwarded through SSH)  │
    │                                                                      │
    │ ⮞ For more info, ctrl+click on help or visit our website.            │
    └──────────────────────────────────────────────────────────────────────┘

Welcome to Ubuntu 24.04.1 LTS (GNU/Linux 6.8.0-71-generic x86_64)

 * Documentation:  https://help.ubuntu.com
 * Management:     https://landscape.canonical.com
 * Support:        https://ubuntu.com/pro

 System information as of Thu Aug  7 09:08:47 AM IST 2025

  System load:  1.75               Processes:              310
  Usage of /:   32.8% of 47.13GB   Users logged in:        0
  Memory usage: 30%                IPv4 address for ens33: 192.168.44.111
  Swap usage:   0%

 * Strictly confined Kubernetes makes edge and IoT secure. Learn how MicroK8s
   just raised the bar for easy, resilient and secure K8s cluster deployment.

   https://ubuntu.com/engage/secure-kubernetes-at-the-edge

Expanded Security Maintenance for Applications is not enabled.

205 updates can be applied immediately.
To see these additional updates run: apt list --upgradable

Enable ESM Apps to receive additional future security updates.
See https://ubuntu.com/esm or run: sudo pro status


Last login: Wed Aug  6 08:56:29 2025 from 192.168.44.1
balaji@k8s-master:~$ sudo -i
[sudo] password for balaji:
root@k8s-master:~#
root@k8s-master:~# kubectl get node -o wide
NAME                           STATUS   ROLES           AGE    VERSION   INTERNAL-IP      EXTERNAL-IP   OS-IMAGE
k8s-master.glotechcorp.com     Ready    control-plane   224d   v1.32.5   192.168.44.111   <none>        Ubuntu 24.0
k8s-worker01.glotechcorp.com   Ready    <none>          62d    v1.32.5   192.168.44.112   <none>        Ubuntu 24.0
k8s-worker02.glotechcorp.com   Ready    <none>          79d    v1.32.5   192.168.44.113   <none>        Ubuntu 24.0
root@k8s-master:~# kubectl get po
NAME                        READY   STATUS    RESTARTS        AGE
mysql-65555dbd6f-mbgcj      1/1     Running   0               23h
mysql-65555dbd6f-mh4k7      1/1     Running   1 (8m22s ago)   23h
mysql-65555dbd6f-zstbq      1/1     Running   1 (8m22s ago)   23h
nginx-pod-configmap-mount   1/1     Running   1 (8m22s ago)   23h
root@k8s-master:~# kubectl delete deployments.apps mysql
deployment.apps "mysql" deleted
root@k8s-master:~# kubectl delete po nginx-pod-configmap-mount
pod "nginx-pod-configmap-mount" deleted
^[[Aroot@k8s-master:~# kubectl delete po nginx-pod-configmap-mount ^C
root@k8s-master:~# cat ~/.kube/config | base64 -w 0^C
root@k8s-master:~#
root@k8s-master:~# ll|grep mysql
-rw-r--r--  1 root root    376 May 24 06:23 mysql-deploy.yaml
-rw-------  1 root root    113 Jan 24  2025 .mysql_history
-rw-r--r--  1 root root    125 Sep 24  2024 mysql-secret.yaml
drwxr-xr-x  2 root root   4096 Jun  8 13:46 mysql-statefulset-replication/
-rw-r--r--  1 root root   1305 Sep 24  2024 mysql.yaml
root@k8s-master:~# cat mysql.yaml
apiVersion: v1
kind: PersistentVolume
metadata:
  name: mysql-pv-volume
  labels:
    type: local
spec:
  storageClassName: manual
  capacity:
    storage: 2Gi
  accessModes:
    - ReadWriteOnce
  hostPath:
    path: "/mnt/data"
---
apiVersion: v1
kind: PersistentVolumeClaim
metadata:
  name: mysql-pv-claim
spec:
  storageClassName: manual
  accessModes:
    - ReadWriteOnce
  resources:
    requests:
      storage: 2Gi
---
apiVersion: apps/v1
kind: Deployment
metadata:
  name: mysql
spec:
  selector:
    matchLabels:
      app: mysql
  strategy:
    type: Recreate
  template:
    metadata:
      labels:
        app: mysql
    spec:
      containers:
        - image: mysql:8.0
          name: mysql
          env:
          - name: MYSQL_ROOT_PASSWORD
            valueFrom:
              secretKeyRef:
                name: mysql-secret
                key: password
          ports:
            - containerPort: 3306
              name: mysql
          volumeMounts:
            - name: mysql-persistent-storage
              mountPath: /var/lib/mysql
      volumes:
        - name: mysql-persistent-storage
          persistentVolumeClaim:
            claimName: mysql-pv-claim
---
apiVersion: v1
kind: Service
metadata:
  name: mysql
spec:
  ports:
    - port: 3306
  selector:
    app: mysql
root@k8s-master:~# cat mysql-deploy.yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  name: mysql
spec:
  replicas: 3
  selector:
    matchLabels:
      app: mysql
  template:
    metadata:
      labels:
        app: mysql
    spec:
      containers:
      - image: mysql
        name: mysql
        env:
        - name: MYSQL_ROOT_PASSWORD
          value: "1234567"
        ports:
        - containerPort: 3306
root@k8s-master:~#
root@k8s-master:~# echo admin
admin
root@k8s-master:~# echo admin|base63
Command 'base63' not found, did you mean:
  command 'base64' from deb coreutils (9.4-2ubuntu2)
Try: apt install <deb name>
root@k8s-master:~# echo admin|base64
YWRtaW4K
root@k8s-master:~# echo YWRtaW4K|base64 -d
admin
root@k8s-master:~#
root@k8s-master:~# cat mysql-deploy.yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  name: mysql
spec:
  replicas: 3
  selector:
    matchLabels:
      app: mysql
  template:
    metadata:
      labels:
        app: mysql
    spec:
      containers:
      - image: mysql
        name: mysql
        env:
        - name: MYSQL_ROOT_PASSWORD
          value: "1234567"
        ports:
        - containerPort: 3306
root@k8s-master:~# kubectl create -f mysql-deploy.yaml
deployment.apps/mysql created
root@k8s-master:~#
root@k8s-master:~# kubectl get po
NAME                     READY   STATUS              RESTARTS   AGE
mysql-65555dbd6f-dwb8s   1/1     Running             0          7s
mysql-65555dbd6f-ncz5q   0/1     ContainerCreating   0          7s
mysql-65555dbd6f-ps9xr   1/1     Running             0          7s
root@k8s-master:~# kubectl exec -it mysql-65555dbd6f-dwb8s -- bash
bash-5.1# mysql -u root -p
Enter password:
Welcome to the MySQL monitor.  Commands end with ; or \g.
Your MySQL connection id is 9
Server version: 9.4.0 MySQL Community Server - GPL

Copyright (c) 2000, 2025, Oracle and/or its affiliates.

Oracle is a registered trademark of Oracle Corporation and/or its
affiliates. Other names may be trademarks of their respective
owners.

Type 'help;' or '\h' for help. Type '\c' to clear the current input statement.

mysql> show databases;
+--------------------+
| Database           |
+--------------------+
| information_schema |
| mysql              |
| performance_schema |
| sys                |
+--------------------+
4 rows in set (0.011 sec)

mysql> exit
Bye
bash-5.1#
exit
root@k8s-master:~# cat mysql-deploy.yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  name: mysql
spec:
  replicas: 3
  selector:
    matchLabels:
      app: mysql
  template:
    metadata:
      labels:
        app: mysql
    spec:
      containers:
      - image: mysql
        name: mysql
        env:
        - name: MYSQL_ROOT_PASSWORD
          value: "1234567"
        ports:
        - containerPort: 3306
root@k8s-master:~# kubectl delete deployments.apps mysql
deployment.apps "mysql" deleted
root@k8s-master:~#
root@k8s-master:~# cat mysql-secret.yaml
apiVersion: v1
kind: Secret
metadata:
  name: mysql-secret
type: kubernetes.io/basic-auth
stringData:
  password: qwerty@123
root@k8s-master:~# cp mysql-secret.yaml mysql-secret-opaque.yaml
root@k8s-master:~# vi mysql-secret-opaque.yaml
root@k8s-master:~# kubectl get secrets
NAME            TYPE                             DATA   AGE
docker-secret   kubernetes.io/dockerconfigjson   1      74d
mysql-secret    Opaque                           2      59d
root@k8s-master:~# kubectl delete secrets mysql-secret
secret "mysql-secret" deleted
root@k8s-master:~#
root@k8s-master:~# cat mysql-secret-opaque.yaml
apiVersion: v1
kind: Secret
metadata:
  name: mysql-secret
data:
  password: qwerty@123
root@k8s-master:~# kubectl create -f mysql-secret-opaque.yaml
Error from server (BadRequest): error when creating "mysql-secret-opaque.yaml": Secret in version "v1" cannot be handled as a Secret: illegal base64 data at input byte 6
root@k8s-master:~# kubectl create -f mysql-secret-opaque.yaml
Error from server (BadRequest): error when creating "mysql-secret-opaque.yaml": Secret in version "v1" cannot be handled as a Secret: illegal base64 data at input byte 6
root@k8s-master:~# echo qwerty@123|base64
cXdlcnR5QDEyMwo=
root@k8s-master:~# vi mysql-secret-opaque.yaml
root@k8s-master:~# cat mysql-secret-opaque.yaml
apiVersion: v1
kind: Secret
metadata:
  name: mysql-secret
data:
  password: cXdlcnR5QDEyMwo=
root@k8s-master:~# kubectl create -f mysql-secret-opaque.yaml
secret/mysql-secret created
root@k8s-master:~#
root@k8s-master:~# cat mysql-secret-opaque.yaml
apiVersion: v1
kind: Secret
metadata:
  name: mysql-secret
data:
  password: cXdlcnR5QDEyMwo=
root@k8s-master:~# kubectl get secrets
NAME            TYPE                             DATA   AGE
docker-secret   kubernetes.io/dockerconfigjson   1      74d
mysql-secret    Opaque                           1      13s
root@k8s-master:~# kubectl describe secrets mysql-secret
Name:         mysql-secret
Namespace:    default
Labels:       <none>
Annotations:  <none>

Type:  Opaque

Data
====
password:  11 bytes
root@k8s-master:~# kubectl get secrets mysql-secret -o yaml
apiVersion: v1
data:
  password: cXdlcnR5QDEyMwo=
kind: Secret
metadata:
  creationTimestamp: "2025-08-07T03:55:16Z"
  name: mysql-secret
  namespace: default
  resourceVersion: "1599289"
  uid: dd3c947c-b2dc-46ea-8976-f669f1ecbdfb
type: Opaque
root@k8s-master:~# cat mysql.yaml
apiVersion: v1
kind: PersistentVolume
metadata:
  name: mysql-pv-volume
  labels:
    type: local
spec:
  storageClassName: manual
  capacity:
    storage: 2Gi
  accessModes:
    - ReadWriteOnce
  hostPath:
    path: "/mnt/data"
---
apiVersion: v1
kind: PersistentVolumeClaim
metadata:
  name: mysql-pv-claim
spec:
  storageClassName: manual
  accessModes:
    - ReadWriteOnce
  resources:
    requests:
      storage: 2Gi
---
apiVersion: apps/v1
kind: Deployment
metadata:
  name: mysql
spec:
  selector:
    matchLabels:
      app: mysql
  strategy:
    type: Recreate
  template:
    metadata:
      labels:
        app: mysql
    spec:
      containers:
        - image: mysql:8.0
          name: mysql
          env:
          - name: MYSQL_ROOT_PASSWORD
            valueFrom:
              secretKeyRef:
                name: mysql-secret
                key: password
          ports:
            - containerPort: 3306
              name: mysql
          volumeMounts:
            - name: mysql-persistent-storage
              mountPath: /var/lib/mysql
      volumes:
        - name: mysql-persistent-storage
          persistentVolumeClaim:
            claimName: mysql-pv-claim
---
apiVersion: v1
kind: Service
metadata:
  name: mysql
spec:
  ports:
    - port: 3306
  selector:
    app: mysql
root@k8s-master:~#
root@k8s-master:~# ll|grep mysql
-rw-r--r--  1 root root    376 May 24 06:23 mysql-deploy.yaml
-rw-------  1 root root    113 Jan 24  2025 .mysql_history
-rw-r--r--  1 root root     94 Aug  7 09:25 mysql-secret-opaque.yaml
-rw-r--r--  1 root root    125 Sep 24  2024 mysql-secret.yaml
drwxr-xr-x  2 root root   4096 Jun  8 13:46 mysql-statefulset-replication/
-rw-r--r--  1 root root   1305 Sep 24  2024 mysql.yaml
root@k8s-master:~# cat my
mypod-1.yaml                   mysql-deploy.yaml              mysql-statefulset-replication/
mypod-2.yaml                   mysql-secret-opaque.yaml       mysql.yaml
mypo.yaml                      mysql-secret.yaml
root@k8s-master:~# cat mysql-deploy.yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  name: mysql
spec:
  replicas: 3
  selector:
    matchLabels:
      app: mysql
  template:
    metadata:
      labels:
        app: mysql
    spec:
      containers:
      - image: mysql
        name: mysql
        env:
        - name: MYSQL_ROOT_PASSWORD
          value: "1234567"
        ports:
        - containerPort: 3306
root@k8s-master:~# cp mysql-deploy-secret.yaml
cp: missing destination file operand after 'mysql-deploy-secret.yaml'
Try 'cp --help' for more information.
root@k8s-master:~# cp mysql-deploy.yaml mysql-deploy-secret.yaml
root@k8s-master:~# vi mysql-deploy-secret.yaml
root@k8s-master:~#
root@k8s-master:~# kubectl get po
No resources found in default namespace.
root@k8s-master:~# kubectl create -f mysql-deploy-secret.yaml
Error from server (BadRequest): error when creating "mysql-deploy-secret.yaml": Deployment in version "v1" cannot be handled as a Deployment: strict decoding error: unknown field "spec.template.spec.containers[0].envFrom[0].name"
root@k8s-master:~# vi mysql-deploy-secret.yaml
root@k8s-master:~# kubectl get secrets
NAME            TYPE                             DATA   AGE
docker-secret   kubernetes.io/dockerconfigjson   1      74d
mysql-secret    Opaque                           1      8m53s
root@k8s-master:~# vi mysql-deploy-secret.yaml
root@k8s-master:~# kubectl create -f mysql-deploy-secret.yaml
Error from server (BadRequest): error when creating "mysql-deploy-secret.yaml": Deployment in version "v1" cannot be handled as a Deployment: strict decoding error: unknown field "spec.template.spec.containers[0].envFrom[0].name"
root@k8s-master:~# cat my
mypod-1.yaml                   mysql-deploy-secret.yaml       mysql-secret.yaml
mypod-2.yaml                   mysql-deploy.yaml              mysql-statefulset-replication/
mypo.yaml                      mysql-secret-opaque.yaml       mysql.yaml
root@k8s-master:~# cat mysql.yaml
apiVersion: v1
kind: PersistentVolume
metadata:
  name: mysql-pv-volume
  labels:
    type: local
spec:
  storageClassName: manual
  capacity:
    storage: 2Gi
  accessModes:
    - ReadWriteOnce
  hostPath:
    path: "/mnt/data"
---
apiVersion: v1
kind: PersistentVolumeClaim
metadata:
  name: mysql-pv-claim
spec:
  storageClassName: manual
  accessModes:
    - ReadWriteOnce
  resources:
    requests:
      storage: 2Gi
---
apiVersion: apps/v1
kind: Deployment
metadata:
  name: mysql
spec:
  selector:
    matchLabels:
      app: mysql
  strategy:
    type: Recreate
  template:
    metadata:
      labels:
        app: mysql
    spec:
      containers:
        - image: mysql:8.0
          name: mysql
          env:
          - name: MYSQL_ROOT_PASSWORD
            valueFrom:
              secretKeyRef:
                name: mysql-secret
                key: password
          ports:
            - containerPort: 3306
              name: mysql
          volumeMounts:
            - name: mysql-persistent-storage
              mountPath: /var/lib/mysql
      volumes:
        - name: mysql-persistent-storage
          persistentVolumeClaim:
            claimName: mysql-pv-claim
---
apiVersion: v1
kind: Service
metadata:
  name: mysql
spec:
  ports:
    - port: 3306
  selector:
    app: mysql
root@k8s-master:~#
root@k8s-master:~# cat mysql.yaml
apiVersion: v1
kind: PersistentVolume
metadata:
  name: mysql-pv-volume
  labels:
    type: local
spec:
  storageClassName: manual
  capacity:
    storage: 2Gi
  accessModes:
    - ReadWriteOnce
  hostPath:
    path: "/mnt/data"
---
apiVersion: v1
kind: PersistentVolumeClaim
metadata:
  name: mysql-pv-claim
spec:
  storageClassName: manual
  accessModes:
    - ReadWriteOnce
  resources:
    requests:
      storage: 2Gi
---
apiVersion: apps/v1
kind: Deployment
metadata:
  name: mysql
spec:
  selector:
    matchLabels:
      app: mysql
  strategy:
    type: Recreate
  template:
    metadata:
      labels:
        app: mysql
    spec:
      containers:
        - image: mysql:8.0
          name: mysql
          env:
          - name: MYSQL_ROOT_PASSWORD
            valueFrom:
              secretKeyRef:
                name: mysql-secret
                key: password
          ports:
            - containerPort: 3306
              name: mysql
          volumeMounts:
            - name: mysql-persistent-storage
              mountPath: /var/lib/mysql
      volumes:
        - name: mysql-persistent-storage
          persistentVolumeClaim:
            claimName: mysql-pv-claim
---
apiVersion: v1
kind: Service
metadata:
  name: mysql
spec:
  ports:
    - port: 3306
  selector:
    app: mysql
root@k8s-master:~# cat mysql-deploy-secret.yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  name: mysql
spec:
  replicas: 3
  selector:
    matchLabels:
      app: mysql
  template:
    metadata:
      labels:
        app: mysql
    spec:
      containers:
      - image: mysql
        name: mysql
        envFrom:
          - secretRef:
            name: mysql-secret
        ports:
        - containerPort: 3306
root@k8s-master:~# vi mysql-deploy-secret.yaml
root@k8s-master:~# cat mysql-deploy-secret.yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  name: mysql
spec:
  replicas: 3
  selector:
    matchLabels:
      app: mysql
  template:
    metadata:
      labels:
        app: mysql
    spec:
      containers:
      - image: mysql
        name: mysql
        env:
        - name: MYSQL_ROOT_PASSWORD
          valueFrom:
            secretKeyRef:
              name: mysql-secret
              key: password
        ports:
        - containerPort: 3306
root@k8s-master:~#
root@k8s-master:~# cat mysql-deploy-secret.yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  name: mysql
spec:
  replicas: 3
  selector:
    matchLabels:
      app: mysql
  template:
    metadata:
      labels:
        app: mysql
    spec:
      containers:
      - image: mysql
        name: mysql
        env:
        - name: MYSQL_ROOT_PASSWORD
          valueFrom:
            secretKeyRef:
              name: mysql-secret
              key: password
        ports:
        - containerPort: 3306
root@k8s-master:~# kubectl create -f mysql-deploy-secret.yaml
deployment.apps/mysql created
root@k8s-master:~#
root@k8s-master:~# kubectl get deployments.apps ,po
Error from server (NotFound): deployments.apps ",po" not found
root@k8s-master:~# kubectl get deployments.apps,po
NAME                    READY   UP-TO-DATE   AVAILABLE   AGE
deployment.apps/mysql   3/3     3            3           10s

NAME                         READY   STATUS    RESTARTS   AGE
pod/mysql-7dc57f594d-gksd4   1/1     Running   0          10s
pod/mysql-7dc57f594d-ksc5m   1/1     Running   0          10s
pod/mysql-7dc57f594d-xl99n   1/1     Running   0          10s
root@k8s-master:~# kubectl describe deployments.apps
Name:                   mysql
Namespace:              default
CreationTimestamp:      Thu, 07 Aug 2025 09:37:59 +0530
Labels:                 <none>
Annotations:            deployment.kubernetes.io/revision: 1
Selector:               app=mysql
Replicas:               3 desired | 3 updated | 3 total | 3 available | 0 unavailable
StrategyType:           RollingUpdate
MinReadySeconds:        0
RollingUpdateStrategy:  25% max unavailable, 25% max surge
Pod Template:
  Labels:  app=mysql
  Containers:
   mysql:
    Image:      mysql
    Port:       3306/TCP
    Host Port:  0/TCP
    Environment:
      MYSQL_ROOT_PASSWORD:  <set to the key 'password' in secret 'mysql-secret'>  Optional: false
    Mounts:                 <none>
  Volumes:                  <none>
  Node-Selectors:           <none>
  Tolerations:              <none>
Conditions:
  Type           Status  Reason
  ----           ------  ------
  Available      True    MinimumReplicasAvailable
  Progressing    True    NewReplicaSetAvailable
OldReplicaSets:  <none>
NewReplicaSet:   mysql-7dc57f594d (3/3 replicas created)
Events:
  Type    Reason             Age   From                   Message
  ----    ------             ----  ----                   -------
  Normal  ScalingReplicaSet  19s   deployment-controller  Scaled up replica set mysql-7dc57f594d from 0 to 3
root@k8s-master:~#
root@k8s-master:~# kubectl describe po mysql-7dc57f594d-
mysql-7dc57f594d-gksd4  mysql-7dc57f594d-ksc5m  mysql-7dc57f594d-xl99n
root@k8s-master:~# kubectl describe po mysql-7dc57f594d-gksd4
Name:             mysql-7dc57f594d-gksd4
Namespace:        default
Priority:         0
Service Account:  default
Node:             k8s-worker01.glotechcorp.com/192.168.44.112
Start Time:       Thu, 07 Aug 2025 09:38:00 +0530
Labels:           app=mysql
                  pod-template-hash=7dc57f594d
Annotations:      cni.projectcalico.org/containerID: 9d50d286d680057d2ce26626b904915ed93fbf17c5ce33d350b530e9de0a4561
                  cni.projectcalico.org/podIP: 172.17.2.126/32
                  cni.projectcalico.org/podIPs: 172.17.2.126/32
Status:           Running
IP:               172.17.2.126
IPs:
  IP:           172.17.2.126
Controlled By:  ReplicaSet/mysql-7dc57f594d
Containers:
  mysql:
    Container ID:   containerd://958e0eb14b74ef2472da17babd65b73ca0221dabdc306aca1971687d69e2e44d
    Image:          mysql
    Image ID:       docker.io/library/mysql@sha256:40e657ed6b8f486bdd89d9694d64626f32ea5574ec86a6d54e1efcefe4babd1e
    Port:           3306/TCP
    Host Port:      0/TCP
    State:          Running
      Started:      Thu, 07 Aug 2025 09:38:31 +0530
    Last State:     Terminated
      Reason:       Error
      Exit Code:    1
      Started:      Thu, 07 Aug 2025 09:38:05 +0530
      Finished:     Thu, 07 Aug 2025 09:38:27 +0530
    Ready:          True
    Restart Count:  1
    Environment:
      MYSQL_ROOT_PASSWORD:  <set to the key 'password' in secret 'mysql-secret'>  Optional: false
    Mounts:
      /var/run/secrets/kubernetes.io/serviceaccount from kube-api-access-g98fl (ro)
Conditions:
  Type                        Status
  PodReadyToStartContainers   True
  Initialized                 True
  Ready                       True
  ContainersReady             True
  PodScheduled                True
Volumes:
  kube-api-access-g98fl:
    Type:                    Projected (a volume that contains injected data from multiple sources)
    TokenExpirationSeconds:  3607
    ConfigMapName:           kube-root-ca.crt
    ConfigMapOptional:       <nil>
    DownwardAPI:             true
QoS Class:                   BestEffort
Node-Selectors:              <none>
Tolerations:                 node.kubernetes.io/not-ready:NoExecute op=Exists for 300s
                             node.kubernetes.io/unreachable:NoExecute op=Exists for 300s
Events:
  Type    Reason     Age                From               Message
  ----    ------     ----               ----               -------
  Normal  Scheduled  42s                default-scheduler  Successfully assigned default/mysql-7dc57f594d-gksd4 to k8s-worker01.glotechcorp.com
  Normal  Pulled     37s                kubelet            Successfully pulled image "mysql" in 3.382s (3.382s including waiting). Image size: 275525276 bytes.
  Normal  Pulling    14s (x2 over 40s)  kubelet            Pulling image "mysql"
  Normal  Created    11s (x2 over 37s)  kubelet            Created container: mysql
  Normal  Pulled     11s                kubelet            Successfully pulled image "mysql" in 2.956s (2.956s including waiting). Image size: 275525276 bytes.
  Normal  Started    10s (x2 over 36s)  kubelet            Started container mysql
root@k8s-master:~#
root@k8s-master:~# kubectl exec -it
daemonsets/              mysql-7dc57f594d-gksd4   pods/                    services/
deployments/             mysql-7dc57f594d-ksc5m   replicasets/             statefulsets/
jobs/                    mysql-7dc57f594d-xl99n   replicationcontrollers/
root@k8s-master:~# kubectl exec -it
daemonsets/              mysql-7dc57f594d-gksd4   pods/                    services/
deployments/             mysql-7dc57f594d-ksc5m   replicasets/             statefulsets/
jobs/                    mysql-7dc57f594d-xl99n   replicationcontrollers/
root@k8s-master:~# kubectl exec -it mysql-7dc57f594d-gksd4 -- bash
error: Internal error occurred: unable to upgrade connection: container not found ("mysql")
root@k8s-master:~# kubectl exec -it mysql-7dc57f594d-gksd4 -- bash
error: Internal error occurred: unable to upgrade connection: container not found ("mysql")
root@k8s-master:~# kubectl exec -it mysql-7dc57f594d-gksd4 -- bash
root@k8s-master:~# kubectl describe deployments.apps
root@k8s-master:~# kubectl describe deployments.apps kube
root@k8s-master:~# kubectl describe deployments.apps kube^C
root@k8s-master:~# kubectl get po
NAME                     READY   STATUS    RESTARTS      AGE
mysql-7dc57f594d-gksd4   1/1     Running   2 (31s ago)   88s
mysql-7dc57f594d-ksc5m   1/1     Running   2 (33s ago)   88s
mysql-7dc57f594d-xl99n   1/1     Running   2 (23s ago)   88s
root@k8s-master:~# kubectl exec -it mysql-7dc57f594d-gksd4 -- bash
bash-5.1# mysql -u command terminated with exit code 137
root@k8s-master:~# kubectl get po
NAME                     READY   STATUS    RESTARTS      AGE
mysql-7dc57f594d-gksd4   0/1     Error     2 (44s ago)   101s
mysql-7dc57f594d-ksc5m   0/1     Error     2 (46s ago)   101s
mysql-7dc57f594d-xl99n   1/1     Running   2 (36s ago)   101s
root@k8s-master:~# l
root@k8s-master:~# cat mysql-deploy-secret.yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  name: mysql
spec:
  replicas: 3
  selector:
    matchLabels:
      app: mysql
  template:
    metadata:
      labels:
        app: mysql
    spec:
      containers:
      - image: mysql
        name: mysql
        env:
        - name: MYSQL_ROOT_PASSWORD
          valueFrom:
            secretKeyRef:
              name: mysql-secret
              key: password
        ports:
        - containerPort: 3306
root@k8s-master:~#
root@k8s-master:~# cat mysql-deploy.yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  name: mysql
spec:
  replicas: 3
  selector:
    matchLabels:
      app: mysql
  template:
    metadata:
      labels:
        app: mysql
    spec:
      containers:
      - image: mysql
        name: mysql
        env:
        - name: MYSQL_ROOT_PASSWORD
          value: "1234567"
        ports:
        - containerPort: 3306
root@k8s-master:~#
root@k8s-master:~# kubectl get po
NAME                     READY   STATUS             RESTARTS      AGE
mysql-7dc57f594d-gksd4   0/1     CrashLoopBackOff   2 (40s ago)   2m18s
mysql-7dc57f594d-ksc5m   0/1     CrashLoopBackOff   2 (44s ago)   2m18s
mysql-7dc57f594d-xl99n   0/1     CrashLoopBackOff   2 (32s ago)   2m18s
root@k8s-master:~# kubectl describe po mysql-7dc57f594d-gksd4
Name:             mysql-7dc57f594d-gksd4
Namespace:        default
Priority:         0
Service Account:  default
Node:             k8s-worker01.glotechcorp.com/192.168.44.112
Start Time:       Thu, 07 Aug 2025 09:38:00 +0530
Labels:           app=mysql
                  pod-template-hash=7dc57f594d
Annotations:      cni.projectcalico.org/containerID: 9d50d286d680057d2ce26626b904915ed93fbf17c5ce33d350b530e9de0a4561
                  cni.projectcalico.org/podIP: 172.17.2.126/32
                  cni.projectcalico.org/podIPs: 172.17.2.126/32
Status:           Running
IP:               172.17.2.126
IPs:
  IP:           172.17.2.126
Controlled By:  ReplicaSet/mysql-7dc57f594d
Containers:
  mysql:
    Container ID:   containerd://37dcd8c4e4ae746b0cfb703431a63e54b347730a866f7f7e0eb7ae236e11af4f
    Image:          mysql
    Image ID:       docker.io/library/mysql@sha256:40e657ed6b8f486bdd89d9694d64626f32ea5574ec86a6d54e1efcefe4babd1e
    Port:           3306/TCP
    Host Port:      0/TCP
    State:          Waiting
      Reason:       ErrImagePull
    Last State:     Terminated
      Reason:       Error
      Exit Code:    1
      Started:      Thu, 07 Aug 2025 09:39:13 +0530
      Finished:     Thu, 07 Aug 2025 09:39:37 +0530
    Ready:          False
    Restart Count:  2
    Environment:
      MYSQL_ROOT_PASSWORD:  <set to the key 'password' in secret 'mysql-secret'>  Optional: false
    Mounts:
      /var/run/secrets/kubernetes.io/serviceaccount from kube-api-access-g98fl (ro)
Conditions:
  Type                        Status
  PodReadyToStartContainers   True
  Initialized                 True
  Ready                       False
  ContainersReady             False
  PodScheduled                True
Volumes:
  kube-api-access-g98fl:
    Type:                    Projected (a volume that contains injected data from multiple sources)
    TokenExpirationSeconds:  3607
    ConfigMapName:           kube-root-ca.crt
    ConfigMapOptional:       <nil>
    DownwardAPI:             true
QoS Class:                   BestEffort
Node-Selectors:              <none>
Tolerations:                 node.kubernetes.io/not-ready:NoExecute op=Exists for 300s
                             node.kubernetes.io/unreachable:NoExecute op=Exists for 300s
Events:
  Type     Reason     Age                  From               Message
  ----     ------     ----                 ----               -------
  Normal   Scheduled  2m34s                default-scheduler  Successfully assigned default/mysql-7dc57f594d-gksd4 to k8s-worker01.glotechcorp.com
  Normal   Pulled     2m29s                kubelet            Successfully pulled image "mysql" in 3.382s (3.382s including waiting). Image size: 275525276 bytes.
  Normal   Pulled     2m3s                 kubelet            Successfully pulled image "mysql" in 2.956s (2.956s including waiting). Image size: 275525276 bytes.
  Normal   Created    80s (x3 over 2m29s)  kubelet            Created container: mysql
  Normal   Started    80s (x3 over 2m28s)  kubelet            Started container mysql
  Normal   Pulled     80s                  kubelet            Successfully pulled image "mysql" in 3.105s (3.105s including waiting). Image size: 275525276 bytes.
  Warning  BackOff    42s (x3 over 96s)    kubelet            Back-off restarting failed container mysql in pod mysql-7dc57f594d-gksd4_default(2777d632-4371-488b-af4b-9364e2ad18ee)
  Warning  Failed     20s                  kubelet            Failed to pull image "mysql": failed to pull and unpack image "docker.io/library/mysql:latest": failed to resolve reference "docker.io/library/mysql:latest": failed to do request: Head "https://registry-1.docker.io/v2/library/mysql/manifests/latest": dial tcp: lookup registry-1.docker.io on 127.0.0.53:53: read udp 127.0.0.1:50177->127.0.0.53:53: i/o timeout
  Warning  Failed     20s                  kubelet            Error: ErrImagePull
  Normal   Pulling    5s (x5 over 2m32s)   kubelet            Pulling image "mysql"
root@k8s-master:~#
root@k8s-master:~# kubectl delete deployments.apps mysql
deployment.apps "mysql" deleted
root@k8s-master:~# vi mysql-deploy-secret.yaml
root@k8s-master:~#
root@k8s-master:~# cat mysql-deploy-secret.yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  name: mysql
spec:
  replicas: 3
  selector:
    matchLabels:
      app: mysql
  template:
    metadata:
      labels:
        app: mysql
    spec:
      containers:
      - image: mysql:9.4.0
        name: mysql
        env:
        - name: MYSQL_ROOT_PASSWORD
          valueFrom:
            secretKeyRef:
              name: mysql-secret
              key: password
        ports:
        - containerPort: 3306
root@k8s-master:~# kubectl create -f mysql-deploy-secret.yaml
deployment.apps/mysql created
root@k8s-master:~#
root@k8s-master:~# kubectl get po
NAME                   READY   STATUS              RESTARTS   AGE
mysql-88c886ff-48cmn   0/1     ContainerCreating   0          5s
mysql-88c886ff-lvwmc   0/1     ContainerCreating   0          5s
mysql-88c886ff-qs9qg   1/1     Running             0          5s
root@k8s-master:~# kubectl get po
NAME                   READY   STATUS              RESTARTS   AGE
mysql-88c886ff-48cmn   1/1     Running             0          7s
mysql-88c886ff-lvwmc   0/1     ContainerCreating   0          7s
mysql-88c886ff-qs9qg   1/1     Running             0          7s
root@k8s-master:~# kubectl get po
NAME                   READY   STATUS              RESTARTS   AGE
mysql-88c886ff-48cmn   1/1     Running             0          8s
mysql-88c886ff-lvwmc   0/1     ContainerCreating   0          8s
mysql-88c886ff-qs9qg   1/1     Running             0          8s
root@k8s-master:~# kubectl get po
NAME                   READY   STATUS              RESTARTS   AGE
mysql-88c886ff-48cmn   1/1     Running             0          9s
mysql-88c886ff-lvwmc   0/1     ContainerCreating   0          9s
mysql-88c886ff-qs9qg   1/1     Running             0          9s
root@k8s-master:~# kubectl get po
NAME                   READY   STATUS              RESTARTS   AGE
mysql-88c886ff-48cmn   1/1     Running             0          10s
mysql-88c886ff-lvwmc   0/1     ContainerCreating   0          10s
mysql-88c886ff-qs9qg   1/1     Running             0          10s
root@k8s-master:~# kubectl get po
NAME                   READY   STATUS              RESTARTS   AGE
mysql-88c886ff-48cmn   1/1     Running             0          11s
mysql-88c886ff-lvwmc   0/1     ContainerCreating   0          11s
mysql-88c886ff-qs9qg   1/1     Running             0          11s
root@k8s-master:~# kubectl get po
NAME                   READY   STATUS              RESTARTS   AGE
mysql-88c886ff-48cmn   1/1     Running             0          12s
mysql-88c886ff-lvwmc   0/1     ContainerCreating   0          12s
mysql-88c886ff-qs9qg   1/1     Running             0          12s
root@k8s-master:~# kubectl get po
NAME                   READY   STATUS              RESTARTS   AGE
mysql-88c886ff-48cmn   1/1     Running             0          12s
mysql-88c886ff-lvwmc   0/1     ContainerCreating   0          12s
mysql-88c886ff-qs9qg   1/1     Running             0          12s
root@k8s-master:~# kubectl get po
NAME                   READY   STATUS    RESTARTS   AGE
mysql-88c886ff-48cmn   1/1     Running   0          13s
mysql-88c886ff-lvwmc   1/1     Running   0          13s
mysql-88c886ff-qs9qg   1/1     Running   0          13s
root@k8s-master:~# kubectl get po
NAME                   READY   STATUS    RESTARTS   AGE
mysql-88c886ff-48cmn   1/1     Running   0          14s
mysql-88c886ff-lvwmc   1/1     Running   0          14s
mysql-88c886ff-qs9qg   1/1     Running   0          14s
root@k8s-master:~# kubectl get po
NAME                   READY   STATUS    RESTARTS   AGE
mysql-88c886ff-48cmn   1/1     Running   0          14s
mysql-88c886ff-lvwmc   1/1     Running   0          14s
mysql-88c886ff-qs9qg   1/1     Running   0          14s
root@k8s-master:~# kubectl get po
NAME                   READY   STATUS    RESTARTS   AGE
mysql-88c886ff-48cmn   1/1     Running   0          15s
mysql-88c886ff-lvwmc   1/1     Running   0          15s
mysql-88c886ff-qs9qg   1/1     Running   0          15s
root@k8s-master:~# kubectl get po
NAME                   READY   STATUS    RESTARTS   AGE
mysql-88c886ff-48cmn   1/1     Running   0          16s
mysql-88c886ff-lvwmc   1/1     Running   0          16s
mysql-88c886ff-qs9qg   1/1     Running   0          16s
root@k8s-master:~# kubectl get po
NAME                   READY   STATUS    RESTARTS   AGE
mysql-88c886ff-48cmn   1/1     Running   0          16s
mysql-88c886ff-lvwmc   1/1     Running   0          16s
mysql-88c886ff-qs9qg   1/1     Running   0          16s
root@k8s-master:~#
root@k8s-master:~# kubectl get po
NAME                   READY   STATUS    RESTARTS   AGE
mysql-88c886ff-48cmn   1/1     Running   0          18s
mysql-88c886ff-lvwmc   1/1     Running   0          18s
mysql-88c886ff-qs9qg   1/1     Running   0          18s
root@k8s-master:~# kubectl exec -it mysql-88c886ff-48cmn -- bash
error: Internal error occurred: unable to upgrade connection: container not found ("mysql")
root@k8s-master:~# kubectl get po
NAME                   READY   STATUS    RESTARTS     AGE
mysql-88c886ff-48cmn   1/1     Running   1 (3s ago)   31s
mysql-88c886ff-lvwmc   1/1     Running   0            31s
mysql-88c886ff-qs9qg   1/1     Running   1 (9s ago)   31s
root@k8s-master:~# kubectl exec -it mysql-88c886ff-48cmn -- sh
sh-5.1# mysql -u root -pcommand terminated with exit code 137
root@k8s-master:~# kubectl get po
NAME                   READY   STATUS    RESTARTS      AGE
mysql-88c886ff-48cmn   0/1     Error     1 (25s ago)   53s
mysql-88c886ff-lvwmc   1/1     Running   1 (17s ago)   53s
mysql-88c886ff-qs9qg   1/1     Running   2 (14s ago)   53s
root@k8s-master:~# kubectl get po
NAME                   READY   STATUS    RESTARTS      AGE
mysql-88c886ff-48cmn   0/1     Error     1 (27s ago)   55s
mysql-88c886ff-lvwmc   1/1     Running   1 (19s ago)   55s
mysql-88c886ff-qs9qg   1/1     Running   2 (16s ago)   55s
root@k8s-master:~# kubectl get po
NAME                   READY   STATUS    RESTARTS      AGE
mysql-88c886ff-48cmn   0/1     Error     1 (28s ago)   56s
mysql-88c886ff-lvwmc   1/1     Running   1 (20s ago)   56s
mysql-88c886ff-qs9qg   1/1     Running   2 (17s ago)   56s
root@k8s-master:~# kubectl get po
NAME                   READY   STATUS    RESTARTS      AGE
mysql-88c886ff-48cmn   0/1     Error     1 (29s ago)   57s
mysql-88c886ff-lvwmc   1/1     Running   1 (21s ago)   57s
mysql-88c886ff-qs9qg   1/1     Running   2 (18s ago)   57s
root@k8s-master:~# kubectl exec -it mysql-88c886ff-qs9qg -- sh
sh-5.1# mysql -u root -command terminated with exit code 137
root@k8s-master:~# kubectl get po
NAME                   READY   STATUS    RESTARTS      AGE
mysql-88c886ff-48cmn   1/1     Running   2 (22s ago)   72s
mysql-88c886ff-lvwmc   0/1     Error     1 (36s ago)   72s
mysql-88c886ff-qs9qg   0/1     Error     2 (33s ago)   72s
root@k8s-master:~# kubectl exec -it mysql-88c886ff-48cmn -- mysql -u root -pqwerty@123
error: Internal error occurred: unable to upgrade connection: container not found ("mysql")
root@k8s-master:~# kubectl get po
NAME                   READY   STATUS             RESTARTS      AGE
mysql-88c886ff-48cmn   0/1     Error              2 (45s ago)   95s
mysql-88c886ff-lvwmc   1/1     Running            2 (35s ago)   95s
mysql-88c886ff-qs9qg   0/1     CrashLoopBackOff   2 (25s ago)   95s
root@k8s-master:~# kubectl exec -it mysql-88c886ff-lvwmc -- mysql -u root -pqwerty@123
error: Internal error occurred: unable to upgrade connection: container not found ("mysql")
root@k8s-master:~# kubectl get po
NAME                   READY   STATUS             RESTARTS      AGE
mysql-88c886ff-48cmn   0/1     CrashLoopBackOff   2 (16s ago)   106s
mysql-88c886ff-lvwmc   0/1     Error              2 (46s ago)   106s
mysql-88c886ff-qs9qg   1/1     Running            3 (36s ago)   106s
root@k8s-master:~# kubectl delete deployments.apps mysql
deployment.apps "mysql" deleted
root@k8s-master:~#
root@k8s-master:~# kubectl delete secrets mysql-secret
secret "mysql-secret" deleted
root@k8s-master:~#
root@k8s-master:~# cat my
mypod-1.yaml                   mysql-deploy-secret.yaml       mysql-secret.yaml
mypod-2.yaml                   mysql-deploy.yaml              mysql-statefulset-replication/
mypo.yaml                      mysql-secret-opaque.yaml       mysql.yaml
root@k8s-master:~# cat mysql-secret.yaml
apiVersion: v1
kind: Secret
metadata:
  name: mysql-secret
type: kubernetes.io/basic-auth
stringData:
  password: qwerty@123
root@k8s-master:~# kubectl create -f mysql-secret.yaml
secret/mysql-secret created
root@k8s-master:~#
root@k8s-master:~# kubectl get secrets
NAME            TYPE                             DATA   AGE
docker-secret   kubernetes.io/dockerconfigjson   1      74d
mysql-secret    kubernetes.io/basic-auth         1      5s
root@k8s-master:~#
root@k8s-master:~# kubectl create -f mysql-deploy-secret.yaml
deployment.apps/mysql created
root@k8s-master:~#
root@k8s-master:~# kubectl get po
NAME                   READY   STATUS    RESTARTS   AGE
mysql-88c886ff-5hc75   1/1     Running   0          3s
mysql-88c886ff-6qjms   1/1     Running   0          3s
mysql-88c886ff-g5fcd   1/1     Running   0          3s
root@k8s-master:~# kubectl exec -it mysql-88c886ff-5hc75 -- mysql -u root -pqwerty@123
mysql: [Warning] Using a password on the command line interface can be insecure.
ERROR 2002 (HY000): Can't connect to local MySQL server through socket '/var/run/mysqld/mysqld.sock' (2)
command terminated with exit code 1
root@k8s-master:~# kubectl get po
NAME                   READY   STATUS    RESTARTS   AGE
mysql-88c886ff-5hc75   1/1     Running   0          16s
mysql-88c886ff-6qjms   1/1     Running   0          16s
mysql-88c886ff-g5fcd   1/1     Running   0          16s
root@k8s-master:~# kubectl exec -it mysql-88c886ff-5hc75 -- mysql -u root -pqwerty@123^C
root@k8s-master:~# kubectl exec -it mysql-88c886ff-5hc75 -- bash
bash-5.1# mysql -u root -pqwerty@123
mysql: [Warning] Using a password on the command line interface can be insecure.
Welcome to the MySQL monitor.  Commands end with ; or \g.
Your MySQL connection id is 9
Server version: 9.4.0 MySQL Community Server - GPL

Copyright (c) 2000, 2025, Oracle and/or its affiliates.

Oracle is a registered trademark of Oracle Corporation and/or its
affiliates. Other names may be trademarks of their respective
owners.

Type 'help;' or '\h' for help. Type '\c' to clear the current input statement.

mysql> show databases;
+--------------------+
| Database           |
+--------------------+
| information_schema |
| mysql              |
| performance_schema |
| sys                |
+--------------------+
4 rows in set (0.029 sec)

mysql> exit
Bye
bash-5.1# env
KUBERNETES_SERVICE_PORT_HTTPS=443
KUBERNETES_SERVICE_PORT=443
MYSQL_MAJOR=innovation
HTTPD_SVC_PORT_80_TCP_PROTO=tcp
HOSTNAME=mysql-88c886ff-5hc75
HTTPD_SVC_PORT_80_TCP_ADDR=10.110.83.97
HTTPD_SVC_SERVICE_PORT=80
PWD=/
MYSQL_ROOT_PASSWORD=qwerty@123
NGINX_SVC_PORT_80_TCP=tcp://10.111.90.100:80
NGINX_SVC_PORT=tcp://10.111.90.100:80
HOME=/root
KUBERNETES_PORT_443_TCP=tcp://10.96.0.1:443
MYSQL_VERSION=9.4.0-1.el9
NGINX_SVC_SERVICE_PORT=80
GOSU_VERSION=1.17
HTTPD_SVC_PORT_80_TCP_PORT=80
HTTPD_SVC_PORT=tcp://10.110.83.97:80
HTTPD_SVC_PORT_80_TCP=tcp://10.110.83.97:80
NGINX_SVC_PORT_80_TCP_ADDR=10.111.90.100
TERM=xterm
NGINX_SVC_PORT_80_TCP_PORT=80
SHLVL=1
NGINX_SVC_PORT_80_TCP_PROTO=tcp
KUBERNETES_PORT_443_TCP_PROTO=tcp
KUBERNETES_PORT_443_TCP_ADDR=10.96.0.1
KUBERNETES_SERVICE_HOST=10.96.0.1
KUBERNETES_PORT=tcp://10.96.0.1:443
KUBERNETES_PORT_443_TCP_PORT=443
HTTPD_SVC_SERVICE_HOST=10.110.83.97
PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin
MYSQL_SHELL_VERSION=9.4.0-1.el9
NGINX_SVC_SERVICE_HOST=10.111.90.100
_=/usr/bin/env
bash-5.1# mysql -u root -p$MYSQL_ROOT_PASSWORD
mysql: [Warning] Using a password on the command line interface can be insecure.
Welcome to the MySQL monitor.  Commands end with ; or \g.
Your MySQL connection id is 10
Server version: 9.4.0 MySQL Community Server - GPL

Copyright (c) 2000, 2025, Oracle and/or its affiliates.

Oracle is a registered trademark of Oracle Corporation and/or its
affiliates. Other names may be trademarks of their respective
owners.

Type 'help;' or '\h' for help. Type '\c' to clear the current input statement.

mysql> ^C
mysql> ^DBye
bash-5.1# mysql -u root -h localhost -p$MYSQL_ROOT_PASSWORD
mysql: [Warning] Using a password on the command line interface can be insecure.
Welcome to the MySQL monitor.  Commands end with ; or \g.
Your MySQL connection id is 11
Server version: 9.4.0 MySQL Community Server - GPL

Copyright (c) 2000, 2025, Oracle and/or its affiliates.

Oracle is a registered trademark of Oracle Corporation and/or its
affiliates. Other names may be trademarks of their respective
owners.

Type 'help;' or '\h' for help. Type '\c' to clear the current input statement.

mysql> ^C
mysql> ^C
mysql> ^DBye
bash-5.1#
exit
root@k8s-master:~# cp nginx-deployment.yaml my-deployment.yaml
root@k8s-master:~# vi my-deployment.yaml
root@k8s-master:~# ll|secret
Command 'secret' not found, did you mean:
  command 'secnet' from deb secnet (0.6.7)
  command 'seqret' from deb emboss (6.6.0+dfsg-12ubuntu1)
  command 'secrets' from deb secrets (8.0-1)
Try: apt install <deb name>
root@k8s-master:~# ll|grep secret
-rw-r--r--  1 root root    463 Aug  7 09:42 mysql-deploy-secret.yaml
-rw-r--r--  1 root root     94 Aug  7 09:25 mysql-secret-opaque.yaml
-rw-r--r--  1 root root    125 Sep 24  2024 mysql-secret.yaml
-rw-r--r--  1 root root    291 May 25 07:58 pod-private-reg-secret.yaml
-rw-r--r--  1 root root    247 May 13 09:06 pod-private-reg-without-secret.yaml
root@k8s-master:~# cat pod-private-reg-without-secret.yaml
apiVersion: v1
kind: Pod
metadata:
  name: private-reg
spec:
  containers:
  - name: private-reg-container
    image: saravanabalaji/myubuntu-image:1787718066
    command: ["/bin/sh"]
    args: ["-c", "while true; do echo hello; sleep 1000;done"]
root@k8s-master:~# vi my-deployment.yaml
root@k8s-master:~# cat my-deployment.yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  name: my-deployment
  labels:
    env: prod
    app: nginx
    server: webserver
spec:
  replicas: 10
  selector:
    matchLabels:
      application: nginx-app
  template:
    metadata:
      labels:
        application: nginx-app
    spec:
      containers:
      - name: my-container
        image: saravanabalaji/ubuntu-1:v5
        command: ["/bin/sh"]
        args: ["-c", "while true; do echo hello; sleep 1000;done"]


root@k8s-master:~# kubectl get deployments.apps
NAME    READY   UP-TO-DATE   AVAILABLE   AGE
mysql   3/3     3            3           8m31s
root@k8s-master:~# kubectl delete deployments.apps mysql
deployment.apps "mysql" deleted
root@k8s-master:~#
root@k8s-master:~# kubectl get deployments.apps
No resources found in default namespace.
root@k8s-master:~# cat my-deployment.yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  name: my-deployment
  labels:
    env: prod
    app: nginx
    server: webserver
spec:
  replicas: 10
  selector:
    matchLabels:
      application: nginx-app
  template:
    metadata:
      labels:
        application: nginx-app
    spec:
      containers:
      - name: my-container
        image: saravanabalaji/ubuntu-1:v5
        command: ["/bin/sh"]
        args: ["-c", "while true; do echo hello; sleep 1000;done"]


root@k8s-master:~# kubectl create -f my-deployment.yaml
deployment.apps/my-deployment created
root@k8s-master:~#
root@k8s-master:~# kubectl get po
NAME                             READY   STATUS              RESTARTS   AGE
my-deployment-6bfdf597cc-4d8f5   0/1     ContainerCreating   0          4s
my-deployment-6bfdf597cc-4rjfr   0/1     ContainerCreating   0          4s
my-deployment-6bfdf597cc-5gsmr   0/1     ContainerCreating   0          4s
my-deployment-6bfdf597cc-5sbfq   0/1     ContainerCreating   0          4s
my-deployment-6bfdf597cc-fstgs   0/1     ContainerCreating   0          5s
my-deployment-6bfdf597cc-j6skh   0/1     ContainerCreating   0          4s
my-deployment-6bfdf597cc-mgtgs   0/1     ContainerCreating   0          4s
my-deployment-6bfdf597cc-pdjrs   0/1     ContainerCreating   0          4s
my-deployment-6bfdf597cc-sxlps   0/1     ContainerCreating   0          4s
my-deployment-6bfdf597cc-z7hmf   0/1     ContainerCreating   0          5s
root@k8s-master:~# kubectl get po
NAME                             READY   STATUS              RESTARTS   AGE
my-deployment-6bfdf597cc-4d8f5   0/1     ContainerCreating   0          5s
my-deployment-6bfdf597cc-4rjfr   0/1     ContainerCreating   0          5s
my-deployment-6bfdf597cc-5gsmr   0/1     ContainerCreating   0          5s
my-deployment-6bfdf597cc-5sbfq   0/1     ContainerCreating   0          5s
my-deployment-6bfdf597cc-fstgs   0/1     ContainerCreating   0          6s
my-deployment-6bfdf597cc-j6skh   0/1     ContainerCreating   0          5s
my-deployment-6bfdf597cc-mgtgs   0/1     ContainerCreating   0          5s
my-deployment-6bfdf597cc-pdjrs   0/1     ContainerCreating   0          5s
my-deployment-6bfdf597cc-sxlps   0/1     ContainerCreating   0          5s
my-deployment-6bfdf597cc-z7hmf   0/1     ErrImagePull        0          6s
root@k8s-master:~# kubectl get po
NAME                             READY   STATUS              RESTARTS   AGE
my-deployment-6bfdf597cc-4d8f5   0/1     ContainerCreating   0          6s
my-deployment-6bfdf597cc-4rjfr   0/1     ContainerCreating   0          6s
my-deployment-6bfdf597cc-5gsmr   0/1     ContainerCreating   0          6s
my-deployment-6bfdf597cc-5sbfq   0/1     ContainerCreating   0          6s
my-deployment-6bfdf597cc-fstgs   0/1     ContainerCreating   0          7s
my-deployment-6bfdf597cc-j6skh   0/1     ContainerCreating   0          6s
my-deployment-6bfdf597cc-mgtgs   0/1     ContainerCreating   0          6s
my-deployment-6bfdf597cc-pdjrs   0/1     ContainerCreating   0          6s
my-deployment-6bfdf597cc-sxlps   0/1     ContainerCreating   0          6s
my-deployment-6bfdf597cc-z7hmf   0/1     ErrImagePull        0          7s
root@k8s-master:~# kubectl get po
NAME                             READY   STATUS              RESTARTS   AGE
my-deployment-6bfdf597cc-4d8f5   0/1     ContainerCreating   0          7s
my-deployment-6bfdf597cc-4rjfr   0/1     ContainerCreating   0          7s
my-deployment-6bfdf597cc-5gsmr   0/1     ContainerCreating   0          7s
my-deployment-6bfdf597cc-5sbfq   0/1     ContainerCreating   0          7s
my-deployment-6bfdf597cc-fstgs   0/1     ContainerCreating   0          8s
my-deployment-6bfdf597cc-j6skh   0/1     ContainerCreating   0          7s
my-deployment-6bfdf597cc-mgtgs   0/1     ContainerCreating   0          7s
my-deployment-6bfdf597cc-pdjrs   0/1     ContainerCreating   0          7s
my-deployment-6bfdf597cc-sxlps   0/1     ContainerCreating   0          7s
my-deployment-6bfdf597cc-z7hmf   0/1     ErrImagePull        0          8s
root@k8s-master:~# kubectl get po
NAME                             READY   STATUS              RESTARTS   AGE
my-deployment-6bfdf597cc-4d8f5   0/1     ContainerCreating   0          8s
my-deployment-6bfdf597cc-4rjfr   0/1     ContainerCreating   0          8s
my-deployment-6bfdf597cc-5gsmr   0/1     ContainerCreating   0          8s
my-deployment-6bfdf597cc-5sbfq   0/1     ContainerCreating   0          8s
my-deployment-6bfdf597cc-fstgs   0/1     ErrImagePull        0          9s
my-deployment-6bfdf597cc-j6skh   0/1     ContainerCreating   0          8s
my-deployment-6bfdf597cc-mgtgs   0/1     ContainerCreating   0          8s
my-deployment-6bfdf597cc-pdjrs   0/1     ContainerCreating   0          8s
my-deployment-6bfdf597cc-sxlps   0/1     ContainerCreating   0          8s
my-deployment-6bfdf597cc-z7hmf   0/1     ErrImagePull        0          9s
root@k8s-master:~# kubectl get po
NAME                             READY   STATUS              RESTARTS   AGE
my-deployment-6bfdf597cc-4d8f5   0/1     ContainerCreating   0          9s
my-deployment-6bfdf597cc-4rjfr   0/1     ContainerCreating   0          9s
my-deployment-6bfdf597cc-5gsmr   0/1     ErrImagePull        0          9s
my-deployment-6bfdf597cc-5sbfq   0/1     ContainerCreating   0          9s
my-deployment-6bfdf597cc-fstgs   0/1     ErrImagePull        0          10s
my-deployment-6bfdf597cc-j6skh   0/1     ContainerCreating   0          9s
my-deployment-6bfdf597cc-mgtgs   0/1     ContainerCreating   0          9s
my-deployment-6bfdf597cc-pdjrs   0/1     ContainerCreating   0          9s
my-deployment-6bfdf597cc-sxlps   0/1     ContainerCreating   0          9s
my-deployment-6bfdf597cc-z7hmf   0/1     ErrImagePull        0          10s
root@k8s-master:~# kubectl get po
NAME                             READY   STATUS              RESTARTS   AGE
my-deployment-6bfdf597cc-4d8f5   0/1     ContainerCreating   0          10s
my-deployment-6bfdf597cc-4rjfr   0/1     ContainerCreating   0          10s
my-deployment-6bfdf597cc-5gsmr   0/1     ErrImagePull        0          10s
my-deployment-6bfdf597cc-5sbfq   0/1     ContainerCreating   0          10s
my-deployment-6bfdf597cc-fstgs   0/1     ErrImagePull        0          11s
my-deployment-6bfdf597cc-j6skh   0/1     ContainerCreating   0          10s
my-deployment-6bfdf597cc-mgtgs   0/1     ContainerCreating   0          10s
my-deployment-6bfdf597cc-pdjrs   0/1     ContainerCreating   0          10s
my-deployment-6bfdf597cc-sxlps   0/1     ContainerCreating   0          10s
my-deployment-6bfdf597cc-z7hmf   0/1     ErrImagePull        0          11s
root@k8s-master:~#
root@k8s-master:~# kubectl get po
NAME                             READY   STATUS              RESTARTS   AGE
my-deployment-6bfdf597cc-4d8f5   0/1     ContainerCreating   0          11s
my-deployment-6bfdf597cc-4rjfr   0/1     ContainerCreating   0          11s
my-deployment-6bfdf597cc-5gsmr   0/1     ErrImagePull        0          11s
my-deployment-6bfdf597cc-5sbfq   0/1     ContainerCreating   0          11s
my-deployment-6bfdf597cc-fstgs   0/1     ErrImagePull        0          12s
my-deployment-6bfdf597cc-j6skh   0/1     ContainerCreating   0          11s
my-deployment-6bfdf597cc-mgtgs   0/1     ErrImagePull        0          11s
my-deployment-6bfdf597cc-pdjrs   0/1     ContainerCreating   0          11s
my-deployment-6bfdf597cc-sxlps   0/1     ContainerCreating   0          11s
my-deployment-6bfdf597cc-z7hmf   0/1     ErrImagePull        0          12s
root@k8s-master:~#
root@k8s-master:~# kubectl get po
NAME                             READY   STATUS              RESTARTS   AGE
my-deployment-6bfdf597cc-4d8f5   0/1     ContainerCreating   0          13s
my-deployment-6bfdf597cc-4rjfr   0/1     ContainerCreating   0          13s
my-deployment-6bfdf597cc-5gsmr   0/1     ErrImagePull        0          13s
my-deployment-6bfdf597cc-5sbfq   0/1     ContainerCreating   0          13s
my-deployment-6bfdf597cc-fstgs   0/1     ErrImagePull        0          14s
my-deployment-6bfdf597cc-j6skh   0/1     ErrImagePull        0          13s
my-deployment-6bfdf597cc-mgtgs   0/1     ErrImagePull        0          13s
my-deployment-6bfdf597cc-pdjrs   0/1     ContainerCreating   0          13s
my-deployment-6bfdf597cc-sxlps   0/1     ContainerCreating   0          13s
my-deployment-6bfdf597cc-z7hmf   0/1     ErrImagePull        0          14s
root@k8s-master:~# kubectl describe po my-deployment-6bfdf597cc-z7hmf
Name:             my-deployment-6bfdf597cc-z7hmf
Namespace:        default
Priority:         0
Service Account:  default
Node:             k8s-worker02.glotechcorp.com/192.168.44.113
Start Time:       Thu, 07 Aug 2025 09:54:14 +0530
Labels:           application=nginx-app
                  pod-template-hash=6bfdf597cc
Annotations:      cni.projectcalico.org/containerID: 7fb7d902cd5245c83b09ca4210dc25e42714fccc460c3e445d217ec2ac8ccc6a
                  cni.projectcalico.org/podIP: 172.17.98.146/32
                  cni.projectcalico.org/podIPs: 172.17.98.146/32
Status:           Pending
IP:               172.17.98.146
IPs:
  IP:           172.17.98.146
Controlled By:  ReplicaSet/my-deployment-6bfdf597cc
Containers:
  my-container:
    Container ID:
    Image:         saravanabalaji/ubuntu-1:v5
    Image ID:
    Port:          <none>
    Host Port:     <none>
    Command:
      /bin/sh
    Args:
      -c
      while true; do echo hello; sleep 1000;done
    State:          Waiting
      Reason:       ImagePullBackOff
    Ready:          False
    Restart Count:  0
    Environment:    <none>
    Mounts:
      /var/run/secrets/kubernetes.io/serviceaccount from kube-api-access-kqrsn (ro)
Conditions:
  Type                        Status
  PodReadyToStartContainers   True
  Initialized                 True
  Ready                       False
  ContainersReady             False
  PodScheduled                True
Volumes:
  kube-api-access-kqrsn:
    Type:                    Projected (a volume that contains injected data from multiple sources)
    TokenExpirationSeconds:  3607
    ConfigMapName:           kube-root-ca.crt
    ConfigMapOptional:       <nil>
    DownwardAPI:             true
QoS Class:                   BestEffort
Node-Selectors:              <none>
Tolerations:                 node.kubernetes.io/not-ready:NoExecute op=Exists for 300s
                             node.kubernetes.io/unreachable:NoExecute op=Exists for 300s
Events:
  Type     Reason     Age               From               Message
  ----     ------     ----              ----               -------
  Normal   Scheduled  22s               default-scheduler  Successfully assigned default/my-deployment-6bfdf597cc-z7hmf to k8s-worker02.glotechcorp.com
  Normal   BackOff    17s               kubelet            Back-off pulling image "saravanabalaji/ubuntu-1:v5"
  Warning  Failed     17s               kubelet            Error: ImagePullBackOff
  Normal   Pulling    4s (x2 over 20s)  kubelet            Pulling image "saravanabalaji/ubuntu-1:v5"
  Warning  Failed     1s (x2 over 17s)  kubelet            Failed to pull image "saravanabalaji/ubuntu-1:v5": failed to pull and unpack image "docker.io/saravanabalaji/ubuntu-1:v5": failed to resolve reference "docker.io/saravanabalaji/ubuntu-1:v5": pull access denied, repository does not exist or may require authorization: server message: insufficient_scope: authorization failed
  Warning  Failed     1s (x2 over 17s)  kubelet            Error: ErrImagePull
root@k8s-master:~#
root@k8s-master:~# kubectl get po
NAME                             READY   STATUS             RESTARTS   AGE
my-deployment-6bfdf597cc-4d8f5   0/1     ImagePullBackOff   0          104s
my-deployment-6bfdf597cc-4rjfr   0/1     ImagePullBackOff   0          104s
my-deployment-6bfdf597cc-5gsmr   0/1     ImagePullBackOff   0          104s
my-deployment-6bfdf597cc-5sbfq   0/1     ImagePullBackOff   0          104s
my-deployment-6bfdf597cc-fstgs   0/1     ImagePullBackOff   0          105s
my-deployment-6bfdf597cc-j6skh   0/1     ImagePullBackOff   0          104s
my-deployment-6bfdf597cc-mgtgs   0/1     ImagePullBackOff   0          104s
my-deployment-6bfdf597cc-pdjrs   0/1     ImagePullBackOff   0          104s
my-deployment-6bfdf597cc-sxlps   0/1     ImagePullBackOff   0          104s
my-deployment-6bfdf597cc-z7hmf   0/1     ImagePullBackOff   0          105s
root@k8s-master:~#
root@k8s-master:~# kubectl get secret
NAME            TYPE                             DATA   AGE
docker-secret   kubernetes.io/dockerconfigjson   1      74d
mysql-secret    kubernetes.io/basic-auth         1      11m
root@k8s-master:~# kubectl create secret docker-registry my-docker-secret \
  --docker-username=saravanabalaji \
  --docker-password=password\
  --docker-email=saravanabalaji17@gmail.com
  --docker-server=docker.io
secret/my-docker-secret created
--docker-server=docker.io: command not found
root@k8s-master:~# ^C
root@k8s-master:~# kubectl get secrets
NAME               TYPE                             DATA   AGE
docker-secret      kubernetes.io/dockerconfigjson   1      74d
my-docker-secret   kubernetes.io/dockerconfigjson   1      12s
mysql-secret       kubernetes.io/basic-auth         1      13m
root@k8s-master:~# kubectl delete secrets my-docker-secret
secret "my-docker-secret" deleted
root@k8s-master:~#
root@k8s-master:~# kubectl create secret docker-registry my-docker-secret   --docker-username=saravanabalaji   --docker-password=password   --docker-email=saravanabalaji17@gmail.com   --docker-server=docker.io
secret/my-docker-secret created
root@k8s-master:~#
root@k8s-master:~# kubectl get secrets
NAME               TYPE                             DATA   AGE
docker-secret      kubernetes.io/dockerconfigjson   1      74d
my-docker-secret   kubernetes.io/dockerconfigjson   1      4s
mysql-secret       kubernetes.io/basic-auth         1      13m
root@k8s-master:~# kubectl describe secrets my-docker-secret
Name:         my-docker-secret
Namespace:    default
Labels:       <none>
Annotations:  <none>

Type:  kubernetes.io/dockerconfigjson

Data
====
.dockerconfigjson:  168 bytes
root@k8s-master:~# kubectl get  secrets my-docker-secret -o yaml
apiVersion: v1
data:
  .dockerconfigjson: eyJhdXRocyI6eyJkb2NrZXIuaW8iOnsidXNlcm5hbWUiOiJzYXJhdmFuYWJhbGFqaSIsInBhc3N3b3JkIjoiQkBnQHZAdGhpQDE3MDciLCJlbWFpbCI6InNhcmF2YW5hYmFsYWppMTdAZ21haWwuY29tIiwiYXV0aCI6ImMyRnlZWFpoYm1GaVlXeGhhbWs2UWtCblFIWkFkR2hwUURFM01EYz0ifX19
kind: Secret
metadata:
  creationTimestamp: "2025-08-07T04:28:44Z"
  name: my-docker-secret
  namespace: default
  resourceVersion: "1604499"
  uid: 25ecc8f8-db90-4d60-9fa3-c1531bc03ab9
type: kubernetes.io/dockerconfigjson
root@k8s-master:~#
root@k8s-master:~# kubectl get po
NAME                             READY   STATUS             RESTARTS   AGE
my-deployment-6bfdf597cc-4d8f5   0/1     ImagePullBackOff   0          5m55s
my-deployment-6bfdf597cc-4rjfr   0/1     ImagePullBackOff   0          5m55s
my-deployment-6bfdf597cc-5gsmr   0/1     ImagePullBackOff   0          5m55s
my-deployment-6bfdf597cc-5sbfq   0/1     ImagePullBackOff   0          5m55s
my-deployment-6bfdf597cc-fstgs   0/1     ImagePullBackOff   0          5m56s
my-deployment-6bfdf597cc-j6skh   0/1     ImagePullBackOff   0          5m55s
my-deployment-6bfdf597cc-mgtgs   0/1     ImagePullBackOff   0          5m55s
my-deployment-6bfdf597cc-pdjrs   0/1     ImagePullBackOff   0          5m55s
my-deployment-6bfdf597cc-sxlps   0/1     ImagePullBackOff   0          5m55s
my-deployment-6bfdf597cc-z7hmf   0/1     ImagePullBackOff   0          5m56s
root@k8s-master:~# kubectl delete deployments.apps my-deployment
deployment.apps "my-deployment" deleted
root@k8s-master:~#
root@k8s-master:~# cp my-deployment.yaml my-deployment-with-secret.yaml
root@k8s-master:~# vimy-deploy^Cnt-with-secret.yaml
root@k8s-master:~# ll|grep secret
-rw-r--r--  1 root root    475 Aug  7 10:00 my-deployment-with-secret.yaml
-rw-r--r--  1 root root    463 Aug  7 09:42 mysql-deploy-secret.yaml
-rw-r--r--  1 root root     94 Aug  7 09:25 mysql-secret-opaque.yaml
-rw-r--r--  1 root root    125 Sep 24  2024 mysql-secret.yaml
-rw-r--r--  1 root root    291 May 25 07:58 pod-private-reg-secret.yaml
-rw-r--r--  1 root root    247 May 13 09:06 pod-private-reg-without-secret.yaml
root@k8s-master:~# cat pod-private-reg-secret.yaml
apiVersion: v1
kind: Pod
metadata:
  name: private-reg
spec:
  containers:
  - name: private-reg-container
    image: saravanabalaji/myubuntu-image:1787718066
    command: ["/bin/sh"]
    args: ["-c", "while true; do echo hello; sleep 1000;done"]
  imagePullSecrets:
  - name: docker-secret
root@k8s-master:~# vi my-deployment-with-secret.yaml
root@k8s-master:~#
root@k8s-master:~# kubectl create -f my-deployment-with-secret.yaml
deployment.apps/my-deployment created
root@k8s-master:~# kubectl get po
NAME                             READY   STATUS              RESTARTS   AGE
my-deployment-59d7f5ff89-4rt8p   0/1     ContainerCreating   0          3s
my-deployment-59d7f5ff89-cthbg   0/1     ContainerCreating   0          3s
my-deployment-59d7f5ff89-dz275   0/1     ContainerCreating   0          3s
my-deployment-59d7f5ff89-fd9ps   0/1     ContainerCreating   0          3s
my-deployment-59d7f5ff89-g4x5j   0/1     ContainerCreating   0          3s
my-deployment-59d7f5ff89-gcfdj   0/1     ContainerCreating   0          3s
my-deployment-59d7f5ff89-v4hcd   0/1     ContainerCreating   0          3s
my-deployment-59d7f5ff89-w48tv   0/1     ContainerCreating   0          3s
my-deployment-59d7f5ff89-wwbgb   0/1     ContainerCreating   0          3s
my-deployment-59d7f5ff89-zfdrx   0/1     ContainerCreating   0          3s
root@k8s-master:~# kubectl get po
NAME                             READY   STATUS              RESTARTS   AGE
my-deployment-59d7f5ff89-4rt8p   0/1     ContainerCreating   0          5s
my-deployment-59d7f5ff89-cthbg   0/1     ContainerCreating   0          5s
my-deployment-59d7f5ff89-dz275   0/1     ContainerCreating   0          5s
my-deployment-59d7f5ff89-fd9ps   0/1     ContainerCreating   0          5s
my-deployment-59d7f5ff89-g4x5j   0/1     ContainerCreating   0          5s
my-deployment-59d7f5ff89-gcfdj   0/1     ContainerCreating   0          5s
my-deployment-59d7f5ff89-v4hcd   0/1     ContainerCreating   0          5s
my-deployment-59d7f5ff89-w48tv   0/1     ContainerCreating   0          5s
my-deployment-59d7f5ff89-wwbgb   0/1     ContainerCreating   0          5s
my-deployment-59d7f5ff89-zfdrx   0/1     ContainerCreating   0          5s
root@k8s-master:~# kubectl get po
NAME                             READY   STATUS              RESTARTS   AGE
my-deployment-59d7f5ff89-4rt8p   0/1     ContainerCreating   0          6s
my-deployment-59d7f5ff89-cthbg   0/1     ContainerCreating   0          6s
my-deployment-59d7f5ff89-dz275   0/1     ContainerCreating   0          6s
my-deployment-59d7f5ff89-fd9ps   0/1     ContainerCreating   0          6s
my-deployment-59d7f5ff89-g4x5j   0/1     ContainerCreating   0          6s
my-deployment-59d7f5ff89-gcfdj   0/1     ContainerCreating   0          6s
my-deployment-59d7f5ff89-v4hcd   0/1     ContainerCreating   0          6s
my-deployment-59d7f5ff89-w48tv   0/1     ContainerCreating   0          6s
my-deployment-59d7f5ff89-wwbgb   0/1     ContainerCreating   0          6s
my-deployment-59d7f5ff89-zfdrx   0/1     ContainerCreating   0          6s
root@k8s-master:~#
root@k8s-master:~# kubectl describe deployments.apps
Name:                   my-deployment
Namespace:              default
CreationTimestamp:      Thu, 07 Aug 2025 10:01:49 +0530
Labels:                 app=nginx
                        env=prod
                        server=webserver
Annotations:            deployment.kubernetes.io/revision: 1
Selector:               application=nginx-app
Replicas:               10 desired | 10 updated | 10 total | 3 available | 7 unavailable
StrategyType:           RollingUpdate
MinReadySeconds:        0
RollingUpdateStrategy:  25% max unavailable, 25% max surge
Pod Template:
  Labels:  application=nginx-app
  Containers:
   my-container:
    Image:      saravanabalaji/ubuntu-1:v5
    Port:       <none>
    Host Port:  <none>
    Command:
      /bin/sh
    Args:
      -c
      while true; do echo hello; sleep 1000;done
    Environment:   <none>
    Mounts:        <none>
  Volumes:         <none>
  Node-Selectors:  <none>
  Tolerations:     <none>
Conditions:
  Type           Status  Reason
  ----           ------  ------
  Available      False   MinimumReplicasUnavailable
  Progressing    True    ReplicaSetUpdated
OldReplicaSets:  <none>
NewReplicaSet:   my-deployment-59d7f5ff89 (10/10 replicas created)
Events:
  Type    Reason             Age   From                   Message
  ----    ------             ----  ----                   -------
  Normal  ScalingReplicaSet  11s   deployment-controller  Scaled up replica set my-deployment-59d7f5ff89 from 0 to 10
root@k8s-master:~# kubectl get po
NAME                             READY   STATUS    RESTARTS   AGE
my-deployment-59d7f5ff89-4rt8p   1/1     Running   0          29s
my-deployment-59d7f5ff89-cthbg   1/1     Running   0          29s
my-deployment-59d7f5ff89-dz275   1/1     Running   0          29s
my-deployment-59d7f5ff89-fd9ps   1/1     Running   0          29s
my-deployment-59d7f5ff89-g4x5j   1/1     Running   0          29s
my-deployment-59d7f5ff89-gcfdj   1/1     Running   0          29s
my-deployment-59d7f5ff89-v4hcd   1/1     Running   0          29s
my-deployment-59d7f5ff89-w48tv   1/1     Running   0          29s
my-deployment-59d7f5ff89-wwbgb   1/1     Running   0          29s
my-deployment-59d7f5ff89-zfdrx   1/1     Running   0          29s
root@k8s-master:~# kubectl describe po my-deployment-59d7f5ff89-4rt8p
Name:             my-deployment-59d7f5ff89-4rt8p
Namespace:        default
Priority:         0
Service Account:  default
Node:             k8s-worker01.glotechcorp.com/192.168.44.112
Start Time:       Thu, 07 Aug 2025 10:01:49 +0530
Labels:           application=nginx-app
                  pod-template-hash=59d7f5ff89
Annotations:      cni.projectcalico.org/containerID: aefc6d518624065bd48741baf02c4256ef6f807573a4ae0542d57c9cc279c114
                  cni.projectcalico.org/podIP: 172.17.2.91/32
                  cni.projectcalico.org/podIPs: 172.17.2.91/32
Status:           Running
IP:               172.17.2.91
IPs:
  IP:           172.17.2.91
Controlled By:  ReplicaSet/my-deployment-59d7f5ff89
Containers:
  my-container:
    Container ID:  containerd://918bf12c5dbc9e53eabf62306f9bdc8418f3b604a99f1ee132953fa111f8f18b
    Image:         saravanabalaji/ubuntu-1:v5
    Image ID:      docker.io/saravanabalaji/myweb-image@sha256:4cb899ef7f4e87b90f9d46acd2390510bf69a181f3a5d23c79b4b5edb7fe492e
    Port:          <none>
    Host Port:     <none>
    Command:
      /bin/sh
    Args:
      -c
      while true; do echo hello; sleep 1000;done
    State:          Running
      Started:      Thu, 07 Aug 2025 10:02:08 +0530
    Ready:          True
    Restart Count:  0
    Environment:    <none>
    Mounts:
      /var/run/secrets/kubernetes.io/serviceaccount from kube-api-access-86q5c (ro)
Conditions:
  Type                        Status
  PodReadyToStartContainers   True
  Initialized                 True
  Ready                       True
  ContainersReady             True
  PodScheduled                True
Volumes:
  kube-api-access-86q5c:
    Type:                    Projected (a volume that contains injected data from multiple sources)
    TokenExpirationSeconds:  3607
    ConfigMapName:           kube-root-ca.crt
    ConfigMapOptional:       <nil>
    DownwardAPI:             true
QoS Class:                   BestEffort
Node-Selectors:              <none>
Tolerations:                 node.kubernetes.io/not-ready:NoExecute op=Exists for 300s
                             node.kubernetes.io/unreachable:NoExecute op=Exists for 300s
Events:
  Type    Reason     Age   From               Message
  ----    ------     ----  ----               -------
  Normal  Scheduled  39s   default-scheduler  Successfully assigned default/my-deployment-59d7f5ff89-4rt8p to k8s-worker01.glotechcorp.com
  Normal  Pulling    35s   kubelet            Pulling image "saravanabalaji/ubuntu-1:v5"
  Normal  Pulled     20s   kubelet            Successfully pulled image "saravanabalaji/ubuntu-1:v5" in 3.268s (14.841s including waiting). Image size: 115773978 bytes.
  Normal  Created    20s   kubelet            Created container: my-container
  Normal  Started    20s   kubelet            Started container my-container
root@k8s-master:~#
